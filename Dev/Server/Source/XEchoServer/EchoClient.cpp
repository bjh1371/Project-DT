////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/// \file EchoClient.cpp
/// \author bjh1371
/// \date 2015/08/04
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

#include "EchoClient.h"

#include "EchoPacketMarshaller.h"

#include "PacketProc/PacketMarshaller.h"
#include "PacketProc/PacketBuffer.h"

#include "Packet/SharedPacket.h"

#include "Base/AsyncTimerRegistry.h"

namespace
{
	volatile long long g_InstanceId = 0;
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/// \brief 持失切
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
CEchoClient::CEchoClient()
:
CAsyncTcpPeer(xnew(CEchoPacketMarshaller))
{
	SafeGuard();
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/// \brief 社瑚切
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
CEchoClient::~CEchoClient()
{
	SafeGuard();
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/// \brief 
/// \return void
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void CEchoClient::OnConnected()
{
	SafeGuard();

	__super::OnConnected();

}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/// \brief 
/// \return void
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
void CEchoClient::OnDisconnected()
{
	SafeGuard();

	__super::OnDisconnected();
}